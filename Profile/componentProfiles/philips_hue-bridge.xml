<?xml version="1.0" encoding="UTF-8"?>
<component xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="racepoint_component_profile.xsd" manufacturer="Philips" model="Hue-Bridge" alias="Philips Hue Bridge" device_class="Lighting_controller" rpm_xml_version="2.0" minimum_component_engine_version="8.0">
    <notes>
        NOTE: This profile REQUIRES daVinci software release 8.0 or higher. Any software version below 8.0 will not control this device. 
        In order to use the RGB Slider entity you must be running release 5.2.3 or higher - Please note the RGB slider is currently untested and may not work.
        
        You MUST use the ssh login credentials in the follwing format > 'RPM:RPM@127.0.0.1' in the IP address field on the wire.
        
        To initially sync the hub with our system:
        - You must first press the Link button on the Hue Hub, and then send the RegisterDevice command from Savant (this is a custom workflow you need to create).
        - Once registration is complete and control is confirmed please search for UserName in "System State"
        - Copy the UserName state that is provided for this device from "System State" and paste in TextEdit.app (this is because it copies a plist not the actual state)
        - Now copy the string value and paste that into State Variable -> "user_name"; while inspecting the component in Blueprint.
        - Re-upload. This should keep Savant and Hue connected after reboot.
        
        Setting IP address and Script Path:
        - You are required to update the state variables for this profile to function correctly
        - Inspect the component and from the View dropdown box choose 'State Variable'
        - Update both the 'bridge_ip' and the 'script_path' variables.
            > 'script_path' is the location where you have copied the companion script (eg: /home/RPM/savant-hue-bridge.py or /Users/RPM/savant-hue-bridge.py)
            > 'bridge_ip' is the IP address of the Philips Hue bridge on your network
        
        Obtaining Scene addresses:
        - Upload your configuration to your host and make sure philips hue is connected as stated above
        - From System Monitor run the 'EnterSceneSaver' command from the 'Service Events' screen
        - Copy the Scene states that are listed for this device from "System State" and paste in TextEdit.app (this is because it copies a plist not the actual state)
        - Now copy the string value and paste that into your data table as required
        - Re-upload.
        
        To Identify Scenes, the states will be populated with the Scene Code and the Scene name appended. E.G: "Lighting_controller.sceneLights_MEJ8ksJkv9Cp0xE_Relax"
        The Scene Code for this is "MEJ8ksJkv9Cp0xE" and the name is "Relax" Put the Scene Code into Address1 of your data Table.
        The sceneLights state show you the Bulb IDs that are included in the scene. E.G: "1, 5, 11, 12, 17". This helps to identify what room the scene is for

		====================== Change Log ==================
		Version: 2.0 Change: Initial Release   Risk: Low Importance: Critical
    </notes>
<!--    <component_properties>
        <coprocessor_required type="HueRGB"/>
    </component_properties>-->
    <control_interfaces preferred="ip">
        <ip port="22" response_time_length_ms="1000" reconnect_timeout_ms="10" protocol="ssh">
            <send_prefix type="hex">03</send_prefix>
            <send_postfix type="hex">0D0A</send_postfix>
        </ip>
    </control_interfaces>
    <media_interfaces>
        <data name_on_component="ETHERNET">
            <combined_media>
                <data_media type="ethernet"/>
                <control port="22"/>
            </combined_media>
        </data>
        <internal name_on_component="Lighting Controller">
            <environmental_media/>
            <resource resource_type="ENV_LIGHTINGCONTROLLER_SOURCE"/>
        </internal>
    </media_interfaces>
    <state_variable_list>
        <!-- MD5 hash of "Savant" -->
        <state_variable name="user_name" owning_logical_component="Lighting_controller" state_center_binding="UserName" user_editable="yes" state_center_type="string">a757aee094024b02afa2fc5b2c362efe</state_variable>
        <state_variable name="bridge_ip" owning_logical_component="Lighting_controller" state_center_binding="BridgeIP" user_editable="yes" state_center_type="string">192.168.1.10</state_variable>
        <state_variable name="extra_args" owning_logical_component="Lighting_controller" state_center_binding="ExtraArgs" user_editable="yes" state_center_type="string"></state_variable>
        <state_variable name="script_path" owning_logical_component="Lighting_controller" state_center_binding="ScriptPath" user_editable="yes" state_center_type="string">/Users/RPM/savant-hue-bridge.py</state_variable>
        <state_variable name="device_type" owning_logical_component="Lighting_controller" state_center_binding="DeviceType" state_center_type="string">Savant</state_variable>
        <state_variable name="math" owning_logical_component="Lighting_controller" state_center_binding="Math" state_center_type="integer">0</state_variable>
        <dynamic_state_variable name="dyBrightness" owning_logical_component="Lighting_controller" state_center_binding="DT_Brightness" state_center_type="integer" range_min="1" range_max="50">0</dynamic_state_variable>
        <dynamic_state_variable name="dyHue" owning_logical_component="Lighting_controller" state_center_binding="DT_Hue" state_center_type="integer" range_min="1" range_max="50">0</dynamic_state_variable>
        <dynamic_state_variable name="dySaturation" owning_logical_component="Lighting_controller" state_center_binding="DT_Saturation" state_center_type="integer" range_min="1" range_max="50">0</dynamic_state_variable>
        <dynamic_state_variable name="dyLightPowerStatus" owning_logical_component="Lighting_controller" state_center_binding="LightPowerStatus" state_center_type="string" range_min="1" range_max="50">OFF</dynamic_state_variable>
        <dynamic_state_variable name="dyisLightOn" owning_logical_component="Lighting_controller" state_center_binding="isLightOn" state_center_type="boolean" range_min="1" range_max="50">0</dynamic_state_variable>
        <dynamic_state_variable name="dyGroupBrightness" owning_logical_component="Lighting_controller" state_center_binding="DT_GroupBrightness" state_center_type="integer" range_min="1" range_max="50">0</dynamic_state_variable>
        <dynamic_state_variable name="dyGroupHue" owning_logical_component="Lighting_controller" state_center_binding="DT_GroupHue" state_center_type="integer" range_min="1" range_max="50">0</dynamic_state_variable>
        <dynamic_state_variable name="dyGroupSaturation" owning_logical_component="Lighting_controller" state_center_binding="DT_GroupSaturation" state_center_type="integer" range_min="1" range_max="50">0</dynamic_state_variable>
        <dynamic_state_variable name="dyisGroupOn" owning_logical_component="Lighting_controller" state_center_binding="isGroupOn" state_center_type="boolean" range_min="1" range_max="50">0</dynamic_state_variable>
        <dynamic_state_variable name="dyGroupPowerStatus" owning_logical_component="Lighting_controller" state_center_binding="GroupPowerStatus" state_center_type="string" range_min="1" range_max="50">OFF</dynamic_state_variable>
    </state_variable_list>
    <logical_component logical_component_name="Lighting_controller">
        <implementation>
            <internal name_on_component="Lighting Controller"/>
        </implementation>
        <status_messages>
            <status_message name="Groups">
                <constant type="character">{&quot;group&quot;: </constant>
                <root_object name="none" matches_required="at_least_one" format="json">
                    <values path="//name" matches_required="all">
                        <update state="groupName" type="string"></update>
                    </values>
                    <values path="//num" matches_required="all">
                        <update state="groupNumber" type="string"></update>
                    </values>
                    <values path="//on" matches_required="all">
                        <update state="isGroupOn" type="boolean"></update>
                        <value_map match_required="no">
                            <map key="true">
                                <update state="GroupPowerStatus" type="string">ON</update>
                            </map>
                            <map key="false">
                                <update state="GroupPowerStatus" type="string">OFF</update>
                            </map>
                            <map key="1">
                                <update state="GroupPowerStatus" type="string">ON</update>
                            </map>
                            <map key="0">
                                <update state="GroupPowerStatus" type="string">OFF</update>
                            </map>
                        </value_map>
                    </values>
                    <values path="//bri" matches_required="all">
                        <update state="GroupBrightness" type="integer"></update>
                        <value_map match_required="no">
                            <convert>
                                <multiply>100</multiply>
                                <divide>254</divide>
                                <update state="DT_GroupBrightness" type="integer"></update>
                            </convert>
                        </value_map>
                    </values>
                    <values path="//alert" matches_required="none">
                        <update state="DT_GroupAlert" type="string"></update>
                    </values>
                    <values path="//hue" matches_required="none">
                        <update state="GroupHue" type="integer"></update>
                        <value_map match_required="no">
                            <convert>
                                <multiply>100</multiply>
                                <divide>65535</divide>
                                <update state="DT_GroupHue" type="integer"></update>
                            </convert>
                        </value_map>
                    </values>
                    <values path="//sat" matches_required="none">
                        <update state="GroupSaturation" type="integer"></update>
                        <value_map match_required="yes">
                            <convert>
                                <multiply>100</multiply>
                                <divide>254</divide>
                                <update state="DT_GroupSaturation" type="integer"></update>
                            </convert>
                        </value_map>
                    </values>
                    <values path="//ct" matches_required="none">
                        <update state="DT_GroupColorTone" type="integer"></update>
                    </values>
                </root_object>
                <constant type="character">}</constant>
                <append_data_to_state_names state="groupNumber"/>
            </status_message>
            <status_message name="Lights">
                <constant type="character">{&quot;light&quot;: </constant>
                <root_object name="none" matches_required="at_least_one" format="json">
                    <values path="//name" matches_required="all">
                        <update state="lightName" type="string"></update>
                    </values>
                    <values path="//num" matches_required="all">
                        <update state="lightNumber" type="string"></update>
                    </values>
                    <values path="//bri" matches_required="all">
                        <update state="Brightness" type="integer"></update>
                        <value_map match_required="no">
                            <convert>
                                <multiply>100</multiply>
                                <divide>254</divide>
                                <update state="DT_Brightness" type="integer"></update>
                            </convert>
                        </value_map>
                    </values>
                    <values path="//on" matches_required="all">
                        <update state="isLightOn" type="boolean"></update>
                        <value_map match_required="yes">
                            <map key="true">
                                <update state="LightPowerStatus" type="string">ON</update>
                            </map>
                            <map key="false">
                                <update state="LightPowerStatus" type="string">OFF</update>
                            </map>
                            <map key="1">
                                <update state="LightPowerStatus" type="string">ON</update>
                            </map>
                            <map key="0">
                                <update state="LightPowerStatus" type="string">OFF</update>
                            </map>
                        </value_map>
                    </values>
                    <values path="//hue" matches_required="none">
                        <update state="Hue" type="integer"></update>
                        <value_map match_required="no">
                            <convert>
                                <multiply>100</multiply>
                                <divide>65535</divide>
                                <update state="DT_Hue" type="integer"></update>
                            </convert>
                        </value_map>
                    </values>
                    <values path="//sat" matches_required="none">
                        <update state="Saturation" type="integer"></update>
                        <value_map match_required="no">
                            <convert>
                                <multiply>100</multiply>
                                <divide>254</divide>
                                <update state="DT_Saturation" type="integer"></update>
                            </convert>
                        </value_map>
                    </values>
                    <values path="//ct" matches_required="none">
                        <update state="DT_ColorTone" type="integer"></update>
                    </values>
                    <values path="//alert" matches_required="none">
                        <update state="DT_Alert" type="string"></update>
                    </values>
                    <values path="//reachable" matches_required="none">
                        <update state="lightConnected" type="boolean"></update>
                    </values>
                    <values path="//type" matches_required="none">
                        <update state="lightType" type="string"></update>
                    </values>
                    <values path="//reachable" matches_required="none">
                        <update state="lightOnline" type="boolean"></update>
                    </values>
                    <values path="//modelid" matches_required="none">
                        <update state="lightModel" type="string"></update>
                    </values>
                </root_object>
                <constant type="character">}</constant>
                <append_data_to_state_names state="lightNumber"/>
            </status_message>
            <status_message name="Scenes">
                <constant type="character">{&quot;scene&quot;: </constant>
                <root_object name="none" matches_required="at_least_one" format="json">
                    <values path="//name" matches_required="all">
                        <update state="sceneName" type="string"></update>
                    </values>
                    <values path="//code" matches_required="all">
                        <update state="sceneCode" type="string"></update>
                    </values>
                    <values path="//lights" matches_required="none">
                        <update state="sceneLights" type="string"></update>
                    </values>
                </root_object>
                <constant type="character">}</constant>
                <append_data_to_state_names state="sceneCode"/>
                <append_data_to_state_names state="sceneName"/>
            </status_message>
            <status_message name="Sensors">
                <constant type="character">{&quot;sensor&quot;: </constant>
                <root_object name="none" matches_required="none" format="json">
                    <values path="//num" matches_required="all">
                        <update state="sensorNumber" type="integer"></update>
                    </values>
                    <values path="//name" matches_required="all">
                        <update state="sensorName" type="string"></update>
                    </values>
                    <values path="//lastupdated" matches_required="all">
                        <update state="sensorUpdate" type="string"></update>
                    </values>
                    <values path="//temperature" matches_required="none">
                        <update state="sensorTemp" type="string"></update>
                    </values>
                    <values path="//lastupdated" matches_required="none">
                        <update state="sensorUpdated" type="string"></update>
                    </values>
                    <values path="//dark" matches_required="none">
                        <update state="sensorIsDark" type="boolean"></update>
                    </values>
                    <values path="//daylight" matches_required="none">
                        <update state="sensorIsDaylight" type="boolean"></update>
                    </values>
                    <values path="//lightlevel" matches_required="none">
                        <update state="sensorCurrentLightLevel" type="integer"></update>
                    </values>
                    <values path="//presence" matches_required="none">
                        <update state="sensorHasPresence" type="boolean"></update>
                    </values>
                </root_object>
                <constant type="character">}</constant>
                <append_data_to_state_names state="sensorNumber"/>
            </status_message>
            <status_message name="RegisterFail">
                <constant type="character">{&quot;error&quot;: {&quot;description&quot;: &quot;</constant>
                <data type="character" terminator_type="character" terminator="&quot;">
                    <update state="RegisterErrorMessage" type="string"></update>
                </data> 
                <constant type="character">}}</constant>
            </status_message>
            <status_message name="RegisterSuccess">
                <constant type="character">{&quot;success&quot;: {&quot;username&quot;: &quot;</constant>
                <data type="character" terminator_type="character" terminator="&quot;">
                    <update state="RegisterErrorMessage" type="string">None</update>
                    <update state="UserName" type="string"></update>
                </data>
                <constant type="character">}}</constant>
            </status_message>
        </status_messages>
        <universal_component_actions>
            <action name="PowerOn">
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
            </action>
        </universal_component_actions>
        <resource_component_actions resource_type="ENV_LIGHTINGCONTROLLER_SOURCE">
            <action name="SwitchOn">
                <action_argument name="Address1" note="Bulb Number (1-50)"/>
                <action_argument name="Address2" note=""/>
                <action_argument name="Address3" note=""/>
                <action_argument name="Address4" note=""/>
                <action_argument name="Address5" note=""/>
                <action_argument name="Address6" note=""/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/lights/</parameter>
                            <parameter parameter_data_type="character" action_argument="Address1"/>
                            <parameter parameter_data_type="character">/state</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;on&quot;: true}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="SwitchOff">
                <action_argument name="Address1" note="Bulb Number (1-50)"/>
                <action_argument name="Address2" note=""/>
                <action_argument name="Address3" note=""/>
                <action_argument name="Address4" note=""/>
                <action_argument name="Address5" note=""/>
                <action_argument name="Address6" note=""/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/lights/</parameter>
                            <parameter parameter_data_type="character" action_argument="Address1"/>
                            <parameter parameter_data_type="character">/state</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;on&quot;: false}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="RFSwitchOn">
                <action_argument name="Address1" note="Group Number"/>
                <action_argument name="Address2" note=""/>
                <action_argument name="Address3" note=""/>
                <action_argument name="Address4" note=""/>
                <action_argument name="Address5" note=""/>
                <action_argument name="Address6" note=""/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/groups/</parameter>
                            <parameter parameter_data_type="character" action_argument="Address1"/>
                            <parameter parameter_data_type="character">/action</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;on&quot;: true}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="RFSwitchOff">
                <action_argument name="Address1" note="Group Number"/>
                <action_argument name="Address2" note=""/>
                <action_argument name="Address3" note=""/>
                <action_argument name="Address4" note=""/>
                <action_argument name="Address5" note=""/>
                <action_argument name="Address6" note=""/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/groups/</parameter>
                            <parameter parameter_data_type="character" action_argument="Address1"/>
                            <parameter parameter_data_type="character">/action</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;on&quot;: false}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="ButtonPress">
                <action_argument name="Address1" note="Bulb Number (1-50)"/>
                <action_argument name="Address2" note=""/>
                <action_argument name="Address3" note=""/>
                <action_argument name="Address4" note=""/>
                <action_argument name="Address5" note=""/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/lights/</parameter>
                            <parameter parameter_data_type="character" action_argument="Address1"/>
                            <parameter parameter_data_type="character">/state</parameter>
                            <parameter parameter_data_type="character" isHttpBody="true">{&quot;alert&quot;: &quot;select&quot;}</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="DimmerSet">
                <!-- Brightness -->
                <action_argument name="Address1" note="Bulb Number (1-50)"/>
                <action_argument name="Address2" note=""/>
                <action_argument name="Address3" note=""/>
                <action_argument name="Address4" note=""/>
                <action_argument name="Address5" note=""/>
                <action_argument name="Address6" note=""/>
                <action_argument name="DimmerLevel" note=""/>
                <action_argument name="FadeTime" note="Multiples of 100ms, 10 = 1 second"/>
                <action_argument name="DelayTime" note=""/>
                <update_state_variable name="math" update_type="set" update_source="action_argument">DimmerLevel</update_state_variable>
                <update_state_variable name="math" update_type="multiply" update_source="constant">254</update_state_variable>
                <update_state_variable name="math" update_type="divide" update_source="constant">100</update_state_variable>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/lights/</parameter>
                            <parameter parameter_data_type="character" action_argument="Address1"/>
                            <parameter parameter_data_type="character">/state</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;on&quot;: true, &quot;bri&quot;: </parameter>
                            <parameter parameter_data_type="character" state_variable="math"/>
                            <parameter parameter_data_type="character">, &quot;transitiontime&quot;: </parameter>
                            <parameter parameter_data_type="character" action_argument="FadeTime"/>
                            <parameter parameter_data_type="character">}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="RFDimmerSet">
                <!-- Hue -->
                <action_argument name="Address1" note="Bulb Number (1-50)"/>
                <action_argument name="Address2" note=""/>
                <action_argument name="Address3" note=""/>
                <action_argument name="Address4" note=""/>
                <action_argument name="Address5" note=""/>
                <action_argument name="Address6" note=""/>
                <action_argument name="DimmerLevel" note=""/>
                <action_argument name="FadeTime" note=""/>
                <action_argument name="DelayTime" note=""/>
                <update_state_variable name="math" update_type="set" update_source="action_argument">DimmerLevel</update_state_variable>
                <update_state_variable name="math" update_type="multiply" update_source="constant">65535</update_state_variable>
                <update_state_variable name="math" update_type="divide" update_source="constant">100</update_state_variable>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/lights/</parameter>
                            <parameter parameter_data_type="character" action_argument="Address1"/>
                            <parameter parameter_data_type="character">/state</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;on&quot;: true, &quot;hue&quot;: </parameter>
                            <parameter parameter_data_type="character" state_variable="math"/>
                            <parameter parameter_data_type="character">, &quot;transitiontime&quot;: </parameter>
                            <parameter parameter_data_type="character" action_argument="FadeTime"/>
                            <parameter parameter_data_type="character">}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>                
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="LowVoltageDimmerSet">
                <!-- Color Temp -->
                <action_argument name="Address1" note="Bulb Number (1-50)"/>
                <action_argument name="Address2" note=""/>
                <action_argument name="Address3" note=""/>
                <action_argument name="Address4" note=""/>
                <action_argument name="Address5" note=""/>
                <action_argument name="Address6" note=""/>
                <action_argument name="DimmerLevel" note=""/>
                <action_argument name="FadeTime" note=""/>
                <action_argument name="DelayTime" note=""/>
                <update_state_variable name="math" update_type="set" update_source="action_argument">DimmerLevel</update_state_variable>
                <update_state_variable name="math" update_type="multiply" update_source="constant">255</update_state_variable>
                <update_state_variable name="math" update_type="divide" update_source="constant">100</update_state_variable>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/lights/</parameter>
                            <parameter parameter_data_type="character" action_argument="Address1"/>
                            <parameter parameter_data_type="character">/state</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;on&quot;: true, &quot;sat&quot;: </parameter>
                            <parameter parameter_data_type="character" state_variable="math"/>
                            <parameter parameter_data_type="character">, &quot;transitiontime&quot;: </parameter>
                            <parameter parameter_data_type="character" action_argument="FadeTime"/>
                            <parameter parameter_data_type="character">}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="ActivateScene">
                <action_argument name="Address1" note="Scene code (eg tq4u-bseo-8rssG)"/>
                <action_argument name="Address2" note=""/>
                <action_argument name="Address3" note=""/>
                <action_argument name="Address4" note=""/>
                <action_argument name="Address5" note=""/>
                <action_argument name="Address6" note=""/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/groups/0/action</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;scene&quot;: &quot;</parameter>
                            <parameter parameter_data_type="character" state_variable="Address1"/>
                            <parameter parameter_data_type="character">&quot;}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="DimmerFlash">
                <!-- Group Brightness -->
                <action_argument name="Address1" note="Group Number"/>
                <action_argument name="Address2" note=""/>
                <action_argument name="Address3" note=""/>
                <action_argument name="Address4" note=""/>
                <action_argument name="Address5" note=""/>
                <action_argument name="Address6" note=""/>
                <action_argument name="DimmerLevel" note=""/>
                <action_argument name="FadeTime" note="Multiples of 100ms, 10 = 1 second"/>
                <action_argument name="DelayTime" note=""/>
                <update_state_variable name="math" update_type="set" update_source="action_argument">DimmerLevel</update_state_variable>
                <update_state_variable name="math" update_type="multiply" update_source="constant">254</update_state_variable>
                <update_state_variable name="math" update_type="divide" update_source="constant">100</update_state_variable>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/groups/</parameter>
                            <parameter parameter_data_type="character" action_argument="Address1"/>
                            <parameter parameter_data_type="character">/action</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;on&quot;: true, &quot;bri&quot;: </parameter>
                            <parameter parameter_data_type="character" state_variable="math"/>
                            <parameter parameter_data_type="character">, &quot;transitiontime&quot;: </parameter>
                            <parameter parameter_data_type="character" action_argument="FadeTime"/>
                            <parameter parameter_data_type="character">}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="EnterSceneSaver">
                <update_state_variable name="extra_args" update_type="set" update_source="constant"> -s</update_state_variable>
            </action>
            <action name="ExitSceneSaver">
                <update_state_variable name="extra_args" update_type="set" update_source="constant"></update_state_variable>
            </action>
            <entity name="Scene" address_components="1">
                <push_button_representation>
                    <release_action name="ActivateScene"/>
                    <osd_press_action name="ActivateScene"/>
                </push_button_representation>
            </entity>
            <entity name="GroupDimmer" address_components="1">
                <slider_representation>
                    <press_action name="DimmerFlash"/>
                    <valueSource name="DT_GroupBrightness">
                        <unique_identifier name="CurrentGroupNumber" address_component="1"/>
                    </valueSource>
                </slider_representation>
            </entity>
            <entity name="Switch" address_components="1">
                <toggle_button_representation>
                    <release_action name="SwitchOn"> </release_action>
                    <toggle_release_action name="SwitchOff"> </toggle_release_action>
                    <osd_press_action name="SwitchOn"> </osd_press_action>
                    <osd_hold_action name="SwitchOff"> </osd_hold_action>
                    <toggleOnUsingState name="isLightOn">
                        <unique_identifier name="CurrentLightNumber" address_component="1"/>
                    </toggleOnUsingState>
                </toggle_button_representation>
            </entity>
            <entity name="GroupSwitch" address_components="1">
                <toggle_button_representation>
                    <release_action name="RFSwitchOn"> </release_action>
                    <toggle_release_action name="RFSwitchOff"> </toggle_release_action>
                    <osd_press_action name="RFSwitchOn"> </osd_press_action>
                    <osd_hold_action name="RFSwitchOff"> </osd_hold_action>
                    <toggleOnUsingState name="isGroupOn">
                        <unique_identifier name="groupNumber" address_component="1"/>
                    </toggleOnUsingState>
                </toggle_button_representation>
            </entity>
            <entity name="Flash Button" address_components="1">
                <push_button_representation>
                    <press_action name="ButtonPress"/>
                </push_button_representation>
            </entity>
            <entity name="Brightness" address_components="1">
                <slider_representation>
                    <press_action name="DimmerSet"/>
                    <valueSource name="DT_Brightness">
                        <unique_identifier name="CurrentLightNumber" address_component="1"/>
                    </valueSource>
                </slider_representation>
            </entity>
            <entity name="Hue" address_components="1">
                <slider_representation>
                    <press_action name="RFDimmerSet"/>
                    <valueSource name="DT_Hue">
                        <unique_identifier name="CurrentLightNumber" address_component="1"/>
                    </valueSource>
                </slider_representation>
            </entity>
            <entity name="Saturation" address_components="1">
                <slider_representation>
                    <press_action name="LowVoltageDimmerSet"/>
                    <valueSource name="DT_Saturation">
                        <unique_identifier name="CurrentLightNumber" address_component="1"/>
                    </valueSource>
                </slider_representation>
            </entity>
            <entity name="RGB" address_components="2">
                <slider_representation>
                    <press_action name="DimmerSet"/>
                    <valueSource name="DimmerLevel">
                        <unique_identifier name="CurrentLightNumber" address_component="1" format="%d"/>
                        <unique_identifier name="RGB" address_component="2" format="%d"/>
                    </valueSource>
                </slider_representation>
            </entity>
        </resource_component_actions>
        <custom_component_actions>
            <action name="TurnLightOn">
                <action_argument name="LightNumber"/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/lights/</parameter>
                            <parameter parameter_data_type="character" action_argument="LightNumber"/>
                            <parameter parameter_data_type="character">/state</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;on&quot;: true}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="TurnLightOff">
                <action_argument name="LightNumber"/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/lights/</parameter>
                            <parameter parameter_data_type="character" action_argument="LightNumber"/>
                            <parameter parameter_data_type="character">/state</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;on&quot;: false}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="TurnGroupOn">
                <action_argument name="GroupNumber"/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/groups/</parameter>
                            <parameter parameter_data_type="character" action_argument="GroupNumber"/>
                            <parameter parameter_data_type="character">/action</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;on&quot;: true}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="TurnGroupOff">
                <action_argument name="GroupNumber"/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/groups/</parameter>
                            <parameter parameter_data_type="character" action_argument="GroupNumber"/>
                            <parameter parameter_data_type="character">/action</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;on&quot;: false}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="SetLightBrightness">
                <action_argument name="LightNumber"/>
                <action_argument name="Brightness" note="Range 0 - 254"/>
                <action_argument name="FadeTime" note="Multiples of 100ms, 10 = 1 second"/>
                <update_state_variable name="math" update_type="set" update_source="action_argument">Brightness</update_state_variable>
                <update_state_variable name="math" update_type="multiply" update_source="constant">254</update_state_variable>
                <update_state_variable name="math" update_type="divide" update_source="constant">100</update_state_variable>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/lights/</parameter>
                            <parameter parameter_data_type="character" action_argument="LightNumber"/>
                            <parameter parameter_data_type="character">/state</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;on&quot;: true, &quot;bri&quot;: </parameter>
                            <parameter parameter_data_type="character" state_variable="math"/>
                            <parameter parameter_data_type="character">, &quot;transitiontime&quot;: </parameter>
                            <parameter parameter_data_type="character" action_argument="FadeTime"/>
                            <parameter parameter_data_type="character">}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="SetGroupBrightness">
                <action_argument name="GroupNumber"/>
                <action_argument name="Brightness" note="Range 0 - 254"/>
                <action_argument name="FadeTime" note="Multiples of 100ms, 10 = 1 second"/>
                <update_state_variable name="math" update_type="set" update_source="action_argument">Brightness</update_state_variable>
                <update_state_variable name="math" update_type="multiply" update_source="constant">254</update_state_variable>
                <update_state_variable name="math" update_type="divide" update_source="constant">100</update_state_variable>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/groups/</parameter>
                            <parameter parameter_data_type="character" action_argument="GroupNumber"/>
                            <parameter parameter_data_type="character">/action</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;on&quot;: true, &quot;bri&quot;: </parameter>
                            <parameter parameter_data_type="character" state_variable="math"/>
                            <parameter parameter_data_type="character">, &quot;transitiontime&quot;: </parameter>
                            <parameter parameter_data_type="character" action_argument="FadeTime"/>
                            <parameter parameter_data_type="character">}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="SetLightHue">
                <action_argument name="LightNumber"/>
                <action_argument name="Hue" note="Range 0 - 65535"/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/lights/</parameter>
                            <parameter parameter_data_type="character" action_argument="LightNumber"/>
                            <parameter parameter_data_type="character">/state</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;hue&quot;: </parameter>
                            <parameter parameter_data_type="character" action_argument="Hue"/>
                            <parameter parameter_data_type="character">}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="SetGroupHue">
                <action_argument name="GroupNumber"/>
                <action_argument name="Hue" note="Range 0 - 65535"/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/groups/</parameter>
                            <parameter parameter_data_type="character" action_argument="GroupNumber"/>
                            <parameter parameter_data_type="character">/action</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;hue&quot;: </parameter>
                            <parameter parameter_data_type="character" action_argument="Hue"/>
                            <parameter parameter_data_type="character">}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="SetLightColorTemp">
                <action_argument name="LightNumber"/>
                <action_argument name="ColorTemp" note="Range 153 - 500"/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/lights/</parameter>
                            <parameter parameter_data_type="character" action_argument="LightNumber"/>
                            <parameter parameter_data_type="character">/state</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;ct&quot;: </parameter>
                            <parameter parameter_data_type="character" action_argument="ColorTemp"/>
                            <parameter parameter_data_type="character">}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="SetGroupColorTemp">
                <action_argument name="GroupNumber"/>
                <action_argument name="ColorTemp" note="Range 153 - 500"/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/groups/</parameter>
                            <parameter parameter_data_type="character" action_argument="LightNumber"/>
                            <parameter parameter_data_type="character">/action</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;ct&quot;: </parameter>
                            <parameter parameter_data_type="character" action_argument="ColorTemp"/>
                            <parameter parameter_data_type="character">}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="SetLightSaturation">
                <action_argument name="LightNumber"/>
                <action_argument name="Saturation" note="Range 0 - 254"/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/lights/</parameter>
                            <parameter parameter_data_type="character" action_argument="LightNumber"/>
                            <parameter parameter_data_type="character">/state</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;sat&quot;: </parameter>
                            <parameter parameter_data_type="character" action_argument="Saturation"/>
                            <parameter parameter_data_type="character">}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="SetGroupSaturation">
                <action_argument name="GroupNumber"/>
                <action_argument name="Saturation" note="Range 0 - 254"/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/group/</parameter>
                            <parameter parameter_data_type="character" action_argument="GroupNumber"/>
                            <parameter parameter_data_type="character">/action</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;sat&quot;: </parameter>
                            <parameter parameter_data_type="character" action_argument="Saturation"/>
                            <parameter parameter_data_type="character">}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="SetLightColor">
                <action_argument name="LightNumber"/>
                <action_argument name="X_value" note="Range 0.0000 - 1.0000"/>
                <action_argument name="Y_value" note="Range 0.0000 - 1.0000"/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/lights/</parameter>
                            <parameter parameter_data_type="character" action_argument="LightNumber"/>
                            <parameter parameter_data_type="character">/state</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;xy&quot;: [</parameter>
                            <parameter parameter_data_type="character" action_argument="X_value"/>
                            <parameter parameter_data_type="character">, </parameter>
                            <parameter parameter_data_type="character" action_argument="Y_value"/>
                            <parameter parameter_data_type="character">]}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="SetGroupColor">
                <action_argument name="GroupNumber"/>
                <action_argument name="X_value" note="Range 0.0000 - 1.0000"/>
                <action_argument name="Y_value" note="Range 0.0000 - 1.0000"/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/groups/</parameter>
                            <parameter parameter_data_type="character" action_argument="GroupNumber"/>
                            <parameter parameter_data_type="character">/action</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;xy&quot;: [</parameter>
                            <parameter parameter_data_type="character" action_argument="X_value"/>
                            <parameter parameter_data_type="character">, </parameter>
                            <parameter parameter_data_type="character" action_argument="Y_value"/>
                            <parameter parameter_data_type="character">]}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="FlashLightOnce">
                <action_argument name="LightNumber" note=""/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/lights/</parameter>
                            <parameter parameter_data_type="character" action_argument="LightNumber"/>
                            <parameter parameter_data_type="character">/state</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;alert&quot;: &quot;select&quot;}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="FlashGroupOnce">
                <action_argument name="GroupNumber" note=""/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/groups/</parameter>
                            <parameter parameter_data_type="character" action_argument="GroupNumber"/>
                            <parameter parameter_data_type="character">/action</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;alert&quot;: &quot;select&quot;}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="Scene">
                <action_argument name="Scene" note="Scene code (eg tq4u-bseo-8rssG)"/>
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/groups/0/action</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;scene&quot;: &quot;</parameter>
                            <parameter parameter_data_type="character" state_variable="Scene"/>
                            <parameter parameter_data_type="character">&quot;}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
                <execute_action_after_delay ms_delay="50" action_name="PollUpdates" action_type="CUSTOM"/>
            </action>
            <action name="RegisterDevice">
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api</parameter>
                            <parameter parameter_data_type="character"> -b &apos;{&quot;devicetype&quot;: &quot;</parameter>
                            <parameter parameter_data_type="character" state_variable="device_type"/>
                            <parameter parameter_data_type="character">&quot;}&apos;</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
            </action>
            <action name="GetGroups">
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/groups</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
            </action>
            <action name="GetScenes">
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/scenes</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
            </action>
            <action name="GetSensors">
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/sensors</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
            </action>
            <action name="GetLights">
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                            <parameter parameter_data_type="character">/lights</parameter>
                        </parameter_list>
                        <delay ms_delay="50"/>
                    </command>
                </command_interface>
            </action>
            <action name="PollUpdates">
                <command_interface interface="ip">
                    <command response_required="yes">
                        <parameter_list>
                            <parameter parameter_data_type="character" state_variable="script_path"/>
                            <parameter parameter_data_type="character" state_variable="extra_args"/>
                            <parameter parameter_data_type="character"> -u </parameter>
                            <parameter parameter_data_type="character" state_variable="bridge_ip"/>
                            <parameter parameter_data_type="character">/api/</parameter>
                            <parameter parameter_data_type="character" state_variable="user_name"/>
                        </parameter_list>
                        <delay ms_delay="1000"/>
                    </command>
                </command_interface>
                <execute_on_schedule period_ms="10000"></execute_on_schedule>
            </action>
            <action name="Enable Scene Printing">
                <update_state_variable name="extra_args" update_type="set" update_source="constant"> -s</update_state_variable>
            </action>
            <action name="Disable Scene Printing">
                <update_state_variable name="extra_args" update_type="set" update_source="constant"></update_state_variable>
            </action>
        </custom_component_actions>
    </logical_component>
</component>
